# Vinylist

A webshop built with Angular 6, .NET Core and postgres.

![screenshot](screenshot.png)



## Prerequisites:

Install the following:

- [node](https://nodejs.org/en/download/)  
  Mac:  `brew install node`

- [ASP.Net Core SDK 2.1](https://www.microsoft.com/net/download)  
  Mac: `brew cask install dotnet dotnet-sdk`
- [Postgres](https://www.postgresql.org)  
  Mac: `brew cask install postgres`



## Database setup

Copy the file `appsettings.example.json` to `appsettings.json` and adapt the database settings according to your setup. The file can be found within the folder `Webspec3`.

Create the [database schema](Doc/Schema.sql) within your database.



## Development Environment

### Backend

- Open either in [Visual Studio](https://visualstudio.microsoft.com/de/?rr=https%3A%2F%2Fwww.google.de%2F), [Visual Studio Code](https://visualstudio.microsoft.com/de/?rr=https%3A%2F%2Fwww.google.de%2F) or [JetBrains Rider](https://www.jetbrains.com/rider/)
- Autogenerated Swagger UI is available at `/swagger` (development mode only)

##### Unittests

Tests can be found within the project/folder `webspec3Tests`. Run them with `dotnet test` or from the IDE. An example service test can be found in `webspec3Tests/ProductServicesTest.cs`, an example controller test can be found in `webspec3Tests/LoginControllerTest.cs`.

------------------------------------------------------------------------------

### Frontend

- The client app can be found in the folder _ClientApp_ within the folder _webspec3_
- First run `npm install`
- Build the app with `ng build` and `ng serve`

##### Unit- and Integrationtests

Tests can be found within the folder `Webspec3/ClientApp`. Run them with `npm run test`. To start the execution, click on `debug` in the opened browser. Two example Unittest can be found in `Webspec3/ClientApp/src/app/services/storage.service.spec.ts` and `Webspec3/ClientApp/src/app/product/product-image.spec.ts`, an example Integrationtest can be found in `Webspec3/ClientApp/src/app/language-switcher/language-switcher.component.spec.ts`.

##### Use Automated UI Testing

- Test framework protractor is already installed
- To start E2E tests simply execute "npm run e2e"
- Find test results in the console output



## Production environment

- Run `dotnet publish` to compile both the backend and frontend.
- There will be a folder `publish` within `bin/Debug/netcoreapp2.1`.
- You can run the app via `dotnet run path-to-bin/Debug/netcoreapp2.1/publish/webspec3.dll`
- We recommend using the provided systemd service template located in `webspec.service` and Apache2 as reverse proxy



## Nikto test

The result of the nikto penetration test can be found in the file `NiktoTest.html`.



------

created by 
Janina Wachenhofer, Alexander Merker, Johannes Mauthe, Maximilian Narr, Daniel Rot√§rmel
as an assignment during the lecture special topics for web applications at media university stuttgart